Metadata-Version: 2.4
Name: research-management
Version: 0.1.0
Summary: Research management system for scientific initiation coordination
Author-email: FIAP Team <team@fiap.edu.br>
Classifier: Development Status :: 3 - Alpha
Classifier: Intended Audience :: Developers
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.11
Classifier: Programming Language :: Python :: 3.12
Requires-Python: >=3.11
Description-Content-Type: text/markdown
Requires-Dist: fastapi>=0.104.1
Requires-Dist: pydantic>=2.5.0
Requires-Dist: pydantic-settings>=2.1.0
Requires-Dist: firebase-admin>=6.2.0
Requires-Dist: uvicorn[standard]>=0.24.0
Requires-Dist: python-multipart>=0.0.6
Requires-Dist: email-validator>=2.1.1
Provides-Extra: dev
Requires-Dist: pytest>=7.4.0; extra == "dev"
Requires-Dist: pytest-asyncio>=0.21.0; extra == "dev"
Requires-Dist: pytest-cov>=4.1.0; extra == "dev"
Requires-Dist: httpx>=0.24.0; extra == "dev"
Requires-Dist: black>=23.0.0; extra == "dev"
Requires-Dist: isort>=5.12.0; extra == "dev"
Requires-Dist: flake8>=6.0.0; extra == "dev"
Requires-Dist: mypy>=1.4.0; extra == "dev"

# Research Management System

Sistema integrado de gestÃ£o de iniciaÃ§Ã£o cientÃ­fica que garante que nenhum aluno seja esquecido ou deixado para trÃ¡s.

## ğŸ¯ Overview

This package provides comprehensive functionality for managing research projects, tracking student progress, monitoring advisor assignments, and ensuring no student is left behind in their research journey.

### Key Features

- **Project Management**: Full CRUD operations for research projects
- **Member Management**: Track students, advisors, and coordinators
- **Progress Tracking**: Timeline of updates and milestones
- **Alert System**: Automated monitoring for students without advisors, inactive projects
- **Dashboards**: Comprehensive metrics for coordinators, advisors, and students
- **Health Status**: Real-time project health indicators (ğŸŸ¢ On Track, ğŸŸ¡ At Risk, ğŸ”´ Critical)

## ğŸš€ Installation

Install this package in editable mode for development:

```bash
cd packages/research_management
pip install -e ".[dev]"
```

## ğŸ”§ Configuration

Set up environment variables (create a `.env` file):

```bash
# Firebase Configuration
FIREBASE_PROJECT_ID=your-project-id
FIREBASE_SERVICE_ACCOUNT_BASE64=base64_encoded_credentials
# OR
GOOGLE_APPLICATION_CREDENTIALS=/path/to/service-account.json

# Firebase Emulator (for local testing)
FIRESTORE_EMULATOR_HOST=localhost:8080
FIREBASE_AUTH_EMULATOR_HOST=localhost:9099

# API Configuration
API_VERSION=v1

# Alert Configuration (optional, defaults shown)
ALERT_NO_ADVISOR_DAYS=14
ALERT_NO_UPDATE_DAYS=30
ALERT_DEADLINE_WARNING_DAYS=7
```

## ğŸ“– Usage

### Running the API Server

```bash
# Development mode with hot reload
cd src/research_management
python -m research_management.main

# Or using uvicorn directly
uvicorn research_management.main:app --reload --port 8002
```

The API will be available at `http://localhost:8002` with:
- Interactive docs: `http://localhost:8002/docs`
- Alternative docs: `http://localhost:8002/redoc`

### API Endpoints

#### Projects

```python
# Create a project
POST /api/v1/projects
{
  "title": "ML for Image Classification",
  "description": "Research on machine learning applications",
  "area": "Machine Learning",
  "start_date": "2025-01-15T00:00:00Z",
  "expected_end_date": "2025-06-30T00:00:00Z"
}

# List projects (with filters)
GET /api/v1/projects?status=active&area=Machine%20Learning

# Get project details
GET /api/v1/projects/{project_id}

# Update project
PUT /api/v1/projects/{project_id}
{
  "health_status": "at_risk",
  "status": "active"
}

# Archive project
DELETE /api/v1/projects/{project_id}
```

#### Members

```python
# Add member to project
POST /api/v1/projects/{project_id}/members
{
  "user_id": "user-456",
  "role": "student"
}

# Get project members
GET /api/v1/projects/{project_id}/members

# Remove member
DELETE /api/v1/projects/{project_id}/members/{user_id}
```

#### Updates

```python
# Submit project update
POST /api/v1/projects/{project_id}/updates?user_id=user-456
{
  "content": "Completed data collection phase. Started preprocessing.",
  "milestone_completed": "Data Collection",
  "files_attached": ["https://storage.example.com/dataset.csv"]
}

# Get project updates (timeline)
GET /api/v1/projects/{project_id}/updates?limit=50
GET /api/v1/projects/{project_id}/timeline
```

#### Alerts

```python
# Get active alerts
GET /api/v1/alerts?severity=critical

# Get project alerts
GET /api/v1/alerts/projects/{project_id}

# Get user alerts
GET /api/v1/alerts/users/{user_id}

# Resolve alert
POST /api/v1/alerts/{alert_id}/resolve

# Dismiss alert
POST /api/v1/alerts/{alert_id}/dismiss
```

#### Dashboards

```python
# Coordinator dashboard (overview of all projects)
GET /api/v1/dashboard/coordinator

# Advisor dashboard
GET /api/v1/dashboard/advisor?advisor_id=user-123

# Student dashboard
GET /api/v1/dashboard/student?student_id=user-456
```

## ğŸ§ª Testing

### Run All Tests

```bash
pytest
```

### Run with Coverage

```bash
pytest --cov=src --cov-report=html
```

### Run Specific Tests

```bash
# Unit tests only
pytest tests/unit/

# Integration tests only
pytest tests/integration/

# Specific test file
pytest tests/unit/test_models.py -v
```

### Testing with Firebase Emulator

For tests that require Firestore:

```bash
# Terminal 1: Start Firebase emulator
firebase emulators:start --only firestore --project demo-test-project

# Terminal 2: Run tests with emulator
FIRESTORE_EMULATOR_HOST="localhost:8080" pytest
```

## ğŸ” Code Quality

### Linting

```bash
# Format code
black .
isort .

# Check code quality
flake8 .
mypy src
```

## ğŸ“Š Database Schema

### Collections

#### `research_projects`
- `project_id` (PK): Unique identifier
- `title`: Project title
- `description`: Detailed description
- `area`: Research area (CS, ML, Networks, etc)
- `status`: proposal | active | paused | completed | archived
- `health_status`: on_track | at_risk | critical
- `start_date`, `expected_end_date`, `actual_end_date`
- `created_at`, `updated_at`

#### `project_members`
- `project_id#user_id` (composite key)
- `project_id`: Project reference
- `user_id`: User reference
- `role`: student | advisor | co-advisor | coordinator
- `joined_at`, `left_at`

#### `project_updates`
- `update_id` (PK): Unique identifier
- `project_id`: Project reference
- `submitted_by`: User ID
- `content`: Markdown content
- `milestone_completed`: Optional milestone name
- `files_attached`: List of URLs
- `timestamp`

#### `alerts`
- `alert_id` (PK): Unique identifier
- `type`: no_advisor | no_update | deadline_soon | meeting_reminder
- `project_id`, `user_id`: Optional references
- `message`: Alert message
- `severity`: info | warning | critical
- `status`: active | resolved | dismissed
- `created_at`, `resolved_at`

## ğŸ¨ Project Health Status

- ğŸŸ¢ **On Track**: Everything is progressing well
- ğŸŸ¡ **At Risk**: Minor delays or communication issues
- ğŸ”´ **Critical**: Significant delays or imminent abandonment

## ğŸ“ˆ Dashboard Metrics

### Coordinator Dashboard
- Total projects (active vs archived)
- Completion rate
- Average students per advisor
- Projects in risk (at risk + critical)
- Students without advisor
- Active alerts count

### Advisor Dashboard
- Total projects
- Active projects
- Total students under supervision
- Active alerts for their projects
- Project list with status

### Student Dashboard
- Current project information
- Project status and health
- Has advisor (yes/no)
- Active alerts related to their project

## ğŸ”” Alert Types

- **NO_ADVISOR**: Student without advisor for > 14 days
- **NO_UPDATE**: Project without update for > 30 days
- **DEADLINE_SOON**: Deadline approaching in 7 days
- **MEETING_REMINDER**: Meeting scheduled in 24 hours

## ğŸ¤ Integration with Other Services

This package can integrate with:
- **auth_service**: For user authentication and authorization
- **Frontend Flutter apps**: Via REST API
- **Notification services**: Email, push notifications, WhatsApp (Twilio)
- **FIAP Systems**: Via API or RPA for data synchronization

## ğŸ“š Development

### Project Structure

```
research_management/
â”œâ”€â”€ src/research_management/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ main.py              # FastAPI application
â”‚   â”œâ”€â”€ config.py            # Settings and configuration
â”‚   â”œâ”€â”€ firebase_admin.py    # Firebase initialization
â”‚   â”œâ”€â”€ models/              # Pydantic models
â”‚   â”‚   â”œâ”€â”€ project.py
â”‚   â”‚   â”œâ”€â”€ member.py
â”‚   â”‚   â”œâ”€â”€ update.py
â”‚   â”‚   â””â”€â”€ alert.py
â”‚   â”œâ”€â”€ repositories/        # Data access layer
â”‚   â”‚   â”œâ”€â”€ project_repository.py
â”‚   â”‚   â”œâ”€â”€ member_repository.py
â”‚   â”‚   â”œâ”€â”€ update_repository.py
â”‚   â”‚   â””â”€â”€ alert_repository.py
â”‚   â”œâ”€â”€ services/            # Business logic
â”‚   â”‚   â”œâ”€â”€ project_service.py
â”‚   â”‚   â”œâ”€â”€ update_service.py
â”‚   â”‚   â”œâ”€â”€ alert_service.py
â”‚   â”‚   â””â”€â”€ dashboard_service.py
â”‚   â”œâ”€â”€ api/                 # API routes
â”‚   â”‚   â”œâ”€â”€ projects.py
â”‚   â”‚   â”œâ”€â”€ updates.py
â”‚   â”‚   â”œâ”€â”€ alerts.py
â”‚   â”‚   â””â”€â”€ dashboard.py
â”‚   â””â”€â”€ utils/               # Utilities
â”‚       â””â”€â”€ helpers.py
â”œâ”€â”€ tests/
â”‚   â”œâ”€â”€ unit/
â”‚   â””â”€â”€ integration/
â”œâ”€â”€ pyproject.toml
â””â”€â”€ README.md
```

## ğŸ” Security Considerations

- Never commit Firebase credentials to Git
- Use environment variables or secrets management
- Implement proper authentication/authorization (integrate with auth_service)
- Validate all user inputs
- Use HTTPS in production
- Implement rate limiting

## ğŸ“ License

Part of FIAP Global Solution 2025.2 project - Educational purposes.

## ğŸ™ Contributing

This is part of a monorepo. See the main repository README for contribution guidelines.

---

**Last Updated**: 2025-11-14  
**Version**: 0.1.0  
**Status**: Development
